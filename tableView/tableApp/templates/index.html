<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Students sheet</title>
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.0.0/css/bootstrap.css">
  <link rel="stylesheet" href="//cdn.datatables.net/1.10.16/css/dataTables.bootstrap4.min.css">
  <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.23/css/jquery.dataTables.css">

<script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.10.23/js/jquery.dataTables.js"></script>

</head>

<body>
  <div class="container">
    <div class="row">
      <div class="col-sm-12">
        <table id="student" class="table table-striped table-bordered" style="width:100%">
          <thead>
            <tr>
              <th>First name</th>
              <th>Last name</th>
              <th>Date of Birth</th>
              <th>Email</th>
			  <th>Class</th>
              <th>Phone number</th>
			  <th>Parent name</th>
			  <th>Date Added</th>
			  <th>Date Updated</th>
			  <th>Year joined</th>
            </tr>
          </thead>
        </table>
      </div>
    </div>
  </div>
  <script src="//code.jquery.com/jquery-1.12.4.js"></script>
  <script src="//cdn.datatables.net/1.10.16/js/dataTables.bootstrap4.min.js"></script>
  <script>

	  var editor;

$(document).ready(function() {
    editor = new $.fn.dataTable.Editor( {
        ajax: {
            create: {
                type: 'POST',
                url:  'http://127.0.0.1:8000/student/api/create?format=datatables'
            },
            edit: {
                type: 'PUT',
                url:  'http://127.0.0.1:8000/student/api/?pk=_pk_&&format=datatables'
            },
            remove: {
                type: 'DELETE',
                url:  'http://127.0.0.1:8000/student/api/?pk=_pk_/delete?format=datatables'
            }
        },
        table: "#student",
        fields: [ {
                label: "First name",
                name: "first_name"
            }, {
                label: "Last name",
                name: "last_name"
            }, {
                label: "Date of Birth",
                name: "Date_of_birth"
            }, {
                label: "Email:",
                name: "Email"
            }, {
                label: "Class:",
                name: "Class_level"
            }, {
                label: "Parent name:",
                name: "Parent_name"
            }, {
                label: "Phone number:",
                name: "Phone_number"
            },
			{
                label: "Date added:",
                name: "DateAdded"
            },
			{
                label: "Date updated:",
                name: "DateUpdated"
            },
        ]
    } );

$(document).ready(function() {
	$('#student').DataTable({
			"serverSide": true,
			"pageLength":25,
			"ajax": "http://127.0.0.1:8000/student/api/?format=datatables",
			"columns": [
				{"data": "Id", "searchable": false},
				{"data": "First_name"},
				{"data": "Last_name"},
				{"data": "Date_of_birth"},
				{"data": "Email"},

				{"data": "Class_level"},
				{"data": "Parent_name"},
				{"data": "Phone_number"},
				{"data": "DateAdded"},
				{"data": "DateUpdated"},
				{"data": "Year_joined"},

			],
        select: true,
        buttons: [
            { extend: "create", editor: editor },
            { extend: "edit",   editor: editor },
            { extend: "remove", editor: editor }
        ]
    } );
} );
  </script>
</body>
</html>
